<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>DJ Neon Millennium Countdown</title>

<style>
body{
  margin:0;
  background:#020617;
  font-family:Arial, sans-serif;
  color:white;
  overflow:hidden;
}

/* ===== TOP BAND ===== */
.top-band{
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:220px;
}

/* LEFT */
.system{
  position:absolute;
  top:20px;
  left:30px;
  width:250px;
  font-size:12px;
}
.system h3{ margin-bottom:8px; color:#00ffff; }

.bar{
  background:#222;
  height:6px;
  margin-bottom:10px;
}
.bar-fill{
  height:6px;
}
.green{ background:#00ff99; }
.red{ background:#ff4444; }

/* CENTER */
.center{
  text-align:center;
  margin-top:10px;
}

.title{
  color:#00ffff;
  font-size:26px;
  letter-spacing:2px;
}

.countdown{
  font-size:80px;
  font-weight:bold;
  margin:10px 0;
  color:#ff77ff;
  text-shadow:0 0 20px #ff00ff;
}

/* Equalizer */
.equalizer{
  display:flex;
  justify-content:center;
  gap:4px;
}
.eq-bar{
  width:6px;
  background:#00ffff;
  animation:wave 1s infinite ease-in-out;
}
@keyframes wave{
  0%{ height:10px; }
  50%{ height:60px; }
  100%{ height:10px; }
}

/* RIGHT */
.top-right{
  position:absolute;
  top:20px;
  right:30px;
  width:320px;
  text-align:right;
  font-size:14px;
}

.spotlight{
  transition:opacity .5s ease;
}

.ticker{
  margin-top:10px;
  white-space:nowrap;
  overflow:hidden;
}
.ticker span{
  display:inline-block;
  padding-left:100%;
  animation:ticker 20s linear infinite;
  color:#00ffcc;
}
@keyframes ticker{
  0%{ transform:translateX(0); }
  100%{ transform:translateX(-100%); }
}

/* ===== PHOTO WALL ===== */
.photo-wall{
  position:absolute;
  top:220px;
  left:0;
  right:0;
  bottom:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:40px;
  padding:0 40px;
}

.photo-row{
  display:flex;
  justify-content:center;
  gap:30px;
}

.photo-card{
  width:180px;
  height:320px;
  background:white;
  border-radius:10px;
  box-shadow:0 0 20px #ff00ff;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  animation:slideIn .7s ease forwards;
  opacity:0;
  transform:translateY(40px);
}

@keyframes slideIn{
  to{
    opacity:1;
    transform:translateY(0);
  }
}

.photo-card img{
  width:100%;
  height:250px;
  object-fit:cover;
}

.photo-card h4{
  margin:5px 0 0;
  color:black;
  font-size:14px;
}
.photo-card p{
  margin:0;
  font-size:12px;
  color:black;
}
</style>
</head>

<body>

<div class="top-band">

  <!-- LEFT -->
  <div class="system">
    <h3>Y2K SYSTEM STABILITY</h3>
    POWER GRID
    <div class="bar"><div class="bar-fill green" style="width:85%"></div></div>
    BANK SERVERS
    <div class="bar"><div class="bar-fill red" style="width:65%"></div></div>
    AIR TRAFFIC
    <div class="bar"><div class="bar-fill green" style="width:82%"></div></div>
    INTERNET BACKBONE
    <div class="bar"><div class="bar-fill green" style="width:78%"></div></div>
  </div>

  <!-- CENTER -->
  <div class="center">
    <div class="title">DJ NEON'S MILLENNIUM COUNTDOWN</div>
    <div class="countdown" id="countdown"></div>
    <div class="equalizer" id="equalizer"></div>
  </div>

  <!-- RIGHT -->
  <div class="top-right">
    <div class="spotlight" id="spotlight"></div>
    <div class="ticker">
      <span>MusicNetHub ▲32% | Sterling Soundscapes ▼12% | Napster Lawsuit Pending | Y2K Bug Risk: CRITICAL | ARE WE READY?</span>
    </div>
  </div>

</div>

<div class="photo-wall">
  <div class="photo-row" id="row1"></div>
  <div class="photo-row" id="row2"></div>
</div>

<script>
const sheetURL = "YOUR_GOOGLE_SHEET_CSV_URL_HERE";
let guests = [];
let spotlightIndex = 0;

/* ===== COUNTDOWN ===== */
function updateCountdown(){
  const target = new Date("January 1, 2026 00:00:00").getTime();
  const now = new Date().getTime();
  const diff = target - now;

  const h = Math.floor(diff / (1000*60*60));
  const m = Math.floor((diff%(1000*60*60))/(1000*60));
  const s = Math.floor((diff%(1000*60))/1000);

  document.getElementById("countdown").innerText =
    `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
}
setInterval(updateCountdown,1000);
updateCountdown();

/* ===== EQUALIZER ===== */
const eq = document.getElementById("equalizer");
for(let i=0;i<25;i++){
  const bar=document.createElement("div");
  bar.className="eq-bar";
  bar.style.animationDelay=(i*0.05)+"s";
  eq.appendChild(bar);
}

/* ===== FETCH SHEET ===== */
async function fetchSheet(){
  const res = await fetch(sheetURL+"?t="+Date.now());
  const text = await res.text();
  const rows = text.split("\n").slice(1);
  const newGuests = rows.map(r=>{
    const cols = r.split(",");
    return {
      character: cols[0],
      title: cols[1],
      description: cols[2],
      real: cols[3],
      photo: cols[4]
    };
  }).filter(g=>g.photo);

  if(newGuests.length !== guests.length){
    guests = newGuests;
    renderPhotos();
  }
}
setInterval(fetchSheet,5000);
fetchSheet();

/* ===== RENDER PHOTOS ===== */
function renderPhotos(){
  const row1=document.getElementById("row1");
  const row2=document.getElementById("row2");
  row1.innerHTML="";
  row2.innerHTML="";

  guests.forEach((g,i)=>{
    const card=document.createElement("div");
    card.className="photo-card";

    const img=document.createElement("img");
    img.src=g.photo+"?t="+Date.now();

    const h4=document.createElement("h4");
    h4.innerText=g.character;

    const p=document.createElement("p");
    p.innerText=g.real;

    card.appendChild(img);
    card.appendChild(h4);
    card.appendChild(p);

    if(i<10) row1.appendChild(card);
    else row2.appendChild(card);
  });
}

/* ===== SPOTLIGHT ROTATION ===== */
function rotateSpotlight(){
  if(guests.length===0) return;

  const s=document.getElementById("spotlight");
  const g=guests[spotlightIndex % guests.length];

  s.style.opacity=0;
  setTimeout(()=>{
    s.innerHTML=`<strong>${g.character} (${g.real})</strong><br>${g.title}<br><em>${g.description}</em>`;
    s.style.opacity=1;
  },300);

  spotlightIndex++;
}
setInterval(rotateSpotlight,10000);
rotateSpotlight();
</script>

</body>
</html>
